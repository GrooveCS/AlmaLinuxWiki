<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Package Signing Key Generation and Handling | AlmaLinux Wiki</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>
	  var _paq = window._paq = window._paq || [];
	  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  (function() {
	    var u="https://matomo.almalinux.org/";
	    _paq.push(['setTrackerUrl', u+'matomo.php']);
	    _paq.push(['setSiteId', '5']);
	    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
	    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
	  })();
</script>
    <link rel="shortcut icon" type="image/png" href="/images/logo.png">
    <meta name="description" content="AlmaLinux OS Documentation">
    
    <link rel="preload" href="/assets/css/0.styles.5d429379.css" as="style"><link rel="preload" href="/assets/js/app.3659c400.js" as="script"><link rel="preload" href="/assets/js/2.22ca8fae.js" as="script"><link rel="preload" href="/assets/js/1.54647143.js" as="script"><link rel="preload" href="/assets/js/65.4a63794e.js" as="script"><link rel="prefetch" href="/assets/js/10.ee23bb06.js"><link rel="prefetch" href="/assets/js/100.12089199.js"><link rel="prefetch" href="/assets/js/101.0e4c65dd.js"><link rel="prefetch" href="/assets/js/102.99ec0586.js"><link rel="prefetch" href="/assets/js/103.16003f5f.js"><link rel="prefetch" href="/assets/js/104.051a02e8.js"><link rel="prefetch" href="/assets/js/105.6396c136.js"><link rel="prefetch" href="/assets/js/106.b0f6a100.js"><link rel="prefetch" href="/assets/js/107.2fd58b63.js"><link rel="prefetch" href="/assets/js/108.1c36a405.js"><link rel="prefetch" href="/assets/js/109.0243d695.js"><link rel="prefetch" href="/assets/js/11.da8d440d.js"><link rel="prefetch" href="/assets/js/110.8ff3a7e4.js"><link rel="prefetch" href="/assets/js/111.613f1e5c.js"><link rel="prefetch" href="/assets/js/112.745c1d3f.js"><link rel="prefetch" href="/assets/js/113.e56fbed0.js"><link rel="prefetch" href="/assets/js/114.53d0667f.js"><link rel="prefetch" href="/assets/js/115.dff0bed7.js"><link rel="prefetch" href="/assets/js/116.25703c80.js"><link rel="prefetch" href="/assets/js/117.1cd60fc5.js"><link rel="prefetch" href="/assets/js/118.583d7cce.js"><link rel="prefetch" href="/assets/js/119.c64d491a.js"><link rel="prefetch" href="/assets/js/12.c0e27f49.js"><link rel="prefetch" href="/assets/js/120.70b9fe7a.js"><link rel="prefetch" href="/assets/js/121.43f5119e.js"><link rel="prefetch" href="/assets/js/122.d3c89d28.js"><link rel="prefetch" href="/assets/js/123.e35296fd.js"><link rel="prefetch" href="/assets/js/124.cbd36b07.js"><link rel="prefetch" href="/assets/js/125.9acbbd12.js"><link rel="prefetch" href="/assets/js/126.4a0e72f7.js"><link rel="prefetch" href="/assets/js/127.04bf8f29.js"><link rel="prefetch" href="/assets/js/128.0bdf7025.js"><link rel="prefetch" href="/assets/js/129.585d01b6.js"><link rel="prefetch" href="/assets/js/13.8389bf9d.js"><link rel="prefetch" href="/assets/js/130.b9a46451.js"><link rel="prefetch" href="/assets/js/131.00c9d332.js"><link rel="prefetch" href="/assets/js/132.7248cccb.js"><link rel="prefetch" href="/assets/js/133.789474cf.js"><link rel="prefetch" href="/assets/js/134.a2f1ca8a.js"><link rel="prefetch" href="/assets/js/135.19d1ebd1.js"><link rel="prefetch" href="/assets/js/136.e3cf16cc.js"><link rel="prefetch" href="/assets/js/137.9bc4fc10.js"><link rel="prefetch" href="/assets/js/138.6f936ba3.js"><link rel="prefetch" href="/assets/js/139.bb86957d.js"><link rel="prefetch" href="/assets/js/14.8a6463d3.js"><link rel="prefetch" href="/assets/js/140.1c04c5e2.js"><link rel="prefetch" href="/assets/js/141.4cf54325.js"><link rel="prefetch" href="/assets/js/142.3161511d.js"><link rel="prefetch" href="/assets/js/143.5925459f.js"><link rel="prefetch" href="/assets/js/144.eb8e5b77.js"><link rel="prefetch" href="/assets/js/145.52bbcafe.js"><link rel="prefetch" href="/assets/js/146.c52eb7d6.js"><link rel="prefetch" href="/assets/js/147.554c306a.js"><link rel="prefetch" href="/assets/js/148.39111a75.js"><link rel="prefetch" href="/assets/js/149.978c040c.js"><link rel="prefetch" href="/assets/js/15.1201a82c.js"><link rel="prefetch" href="/assets/js/150.fa20be04.js"><link rel="prefetch" href="/assets/js/151.1e1ab942.js"><link rel="prefetch" href="/assets/js/152.452d58eb.js"><link rel="prefetch" href="/assets/js/153.94ddf853.js"><link rel="prefetch" href="/assets/js/154.40726191.js"><link rel="prefetch" href="/assets/js/155.6e7b0936.js"><link rel="prefetch" href="/assets/js/156.af74015d.js"><link rel="prefetch" href="/assets/js/157.d12be56d.js"><link rel="prefetch" href="/assets/js/158.cb080ab3.js"><link rel="prefetch" href="/assets/js/159.acaa71c9.js"><link rel="prefetch" href="/assets/js/16.2b84b7d3.js"><link rel="prefetch" href="/assets/js/160.c5a965e2.js"><link rel="prefetch" href="/assets/js/161.57e11d36.js"><link rel="prefetch" href="/assets/js/162.f8823e34.js"><link rel="prefetch" href="/assets/js/163.9c963dc6.js"><link rel="prefetch" href="/assets/js/164.52194931.js"><link rel="prefetch" href="/assets/js/165.4ccff212.js"><link rel="prefetch" href="/assets/js/166.4eaf6960.js"><link rel="prefetch" href="/assets/js/167.f691565f.js"><link rel="prefetch" href="/assets/js/168.bfad12f6.js"><link rel="prefetch" href="/assets/js/169.89d19a58.js"><link rel="prefetch" href="/assets/js/17.c8e4c58e.js"><link rel="prefetch" href="/assets/js/170.abc8610a.js"><link rel="prefetch" href="/assets/js/18.e4262315.js"><link rel="prefetch" href="/assets/js/19.56a0d05b.js"><link rel="prefetch" href="/assets/js/20.87ddadca.js"><link rel="prefetch" href="/assets/js/21.398589d1.js"><link rel="prefetch" href="/assets/js/22.7542e751.js"><link rel="prefetch" href="/assets/js/23.05ffeefc.js"><link rel="prefetch" href="/assets/js/24.8b070390.js"><link rel="prefetch" href="/assets/js/25.8335401f.js"><link rel="prefetch" href="/assets/js/26.23b6990e.js"><link rel="prefetch" href="/assets/js/27.7c82662d.js"><link rel="prefetch" href="/assets/js/28.f525c735.js"><link rel="prefetch" href="/assets/js/29.df86a0cf.js"><link rel="prefetch" href="/assets/js/3.f618aadc.js"><link rel="prefetch" href="/assets/js/30.a2077b6b.js"><link rel="prefetch" href="/assets/js/31.a38d29b2.js"><link rel="prefetch" href="/assets/js/32.34af67a6.js"><link rel="prefetch" href="/assets/js/33.7a286586.js"><link rel="prefetch" href="/assets/js/34.9dee8927.js"><link rel="prefetch" href="/assets/js/35.3a25582c.js"><link rel="prefetch" href="/assets/js/36.8d3d2da5.js"><link rel="prefetch" href="/assets/js/37.a96ce7b6.js"><link rel="prefetch" href="/assets/js/38.27466ad2.js"><link rel="prefetch" href="/assets/js/39.9069182a.js"><link rel="prefetch" href="/assets/js/4.a861951e.js"><link rel="prefetch" href="/assets/js/40.8f4680fc.js"><link rel="prefetch" href="/assets/js/41.ba48bd01.js"><link rel="prefetch" href="/assets/js/42.e952c137.js"><link rel="prefetch" href="/assets/js/43.099be6cf.js"><link rel="prefetch" href="/assets/js/44.188bc576.js"><link rel="prefetch" href="/assets/js/45.852422a5.js"><link rel="prefetch" href="/assets/js/46.a15c3f9f.js"><link rel="prefetch" href="/assets/js/47.0639f8b8.js"><link rel="prefetch" href="/assets/js/48.1d60f4cd.js"><link rel="prefetch" href="/assets/js/49.565253f8.js"><link rel="prefetch" href="/assets/js/5.c3d19108.js"><link rel="prefetch" href="/assets/js/50.1a072e5a.js"><link rel="prefetch" href="/assets/js/51.0717c242.js"><link rel="prefetch" href="/assets/js/52.732f94d1.js"><link rel="prefetch" href="/assets/js/53.bafdbfb4.js"><link rel="prefetch" href="/assets/js/54.09038e80.js"><link rel="prefetch" href="/assets/js/55.8cd094f6.js"><link rel="prefetch" href="/assets/js/56.4821edcb.js"><link rel="prefetch" href="/assets/js/57.143663f8.js"><link rel="prefetch" href="/assets/js/58.a40b50f5.js"><link rel="prefetch" href="/assets/js/59.53cdc486.js"><link rel="prefetch" href="/assets/js/6.87538154.js"><link rel="prefetch" href="/assets/js/60.b831dade.js"><link rel="prefetch" href="/assets/js/61.41403dd3.js"><link rel="prefetch" href="/assets/js/62.0a67cd29.js"><link rel="prefetch" href="/assets/js/63.cb8310d5.js"><link rel="prefetch" href="/assets/js/64.8e4abbb2.js"><link rel="prefetch" href="/assets/js/66.9d521c2a.js"><link rel="prefetch" href="/assets/js/67.9d858c5b.js"><link rel="prefetch" href="/assets/js/68.483f916f.js"><link rel="prefetch" href="/assets/js/69.e4c753dd.js"><link rel="prefetch" href="/assets/js/7.91537c65.js"><link rel="prefetch" href="/assets/js/70.f8402251.js"><link rel="prefetch" href="/assets/js/71.2c83f44d.js"><link rel="prefetch" href="/assets/js/72.34b0c076.js"><link rel="prefetch" href="/assets/js/73.cca0b40d.js"><link rel="prefetch" href="/assets/js/74.644051ae.js"><link rel="prefetch" href="/assets/js/75.93b34b1e.js"><link rel="prefetch" href="/assets/js/76.c91a6cea.js"><link rel="prefetch" href="/assets/js/77.9c141f58.js"><link rel="prefetch" href="/assets/js/78.71161c21.js"><link rel="prefetch" href="/assets/js/79.de2854aa.js"><link rel="prefetch" href="/assets/js/80.175c6b63.js"><link rel="prefetch" href="/assets/js/81.98deba24.js"><link rel="prefetch" href="/assets/js/82.f4d4b33f.js"><link rel="prefetch" href="/assets/js/83.7703b90c.js"><link rel="prefetch" href="/assets/js/84.4443c1c9.js"><link rel="prefetch" href="/assets/js/85.00ba4cca.js"><link rel="prefetch" href="/assets/js/86.e66a04a7.js"><link rel="prefetch" href="/assets/js/87.27126fec.js"><link rel="prefetch" href="/assets/js/88.60bfea43.js"><link rel="prefetch" href="/assets/js/89.b111328f.js"><link rel="prefetch" href="/assets/js/90.5d862f67.js"><link rel="prefetch" href="/assets/js/91.363dc547.js"><link rel="prefetch" href="/assets/js/92.0df0ac06.js"><link rel="prefetch" href="/assets/js/93.9062f8ba.js"><link rel="prefetch" href="/assets/js/94.73611e31.js"><link rel="prefetch" href="/assets/js/95.81fca1ce.js"><link rel="prefetch" href="/assets/js/96.3956e67b.js"><link rel="prefetch" href="/assets/js/97.13e40783.js"><link rel="prefetch" href="/assets/js/98.5bc6fe80.js"><link rel="prefetch" href="/assets/js/99.3f67e93a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.76e099cb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d429379.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="AlmaLinux Wiki" class="logo"> <span class="site-name can-hide">AlmaLinux Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://lists.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mailing Lists
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://bugs.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bugs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/AlmaLinux/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://lists.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mailing Lists
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://bugs.almalinux.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bugs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/AlmaLinux/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">About</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/release-notes/" class="sidebar-heading clickable"><span>Release Notes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/alesco" class="sidebar-heading clickable"><span>ALESCo</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Contribute</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Development</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/development/AlmaLinux-Build-System.html" class="sidebar-link">AlmaLinux Build System</a></li><li><a href="/development/almalinux-os-kitten-10.html" class="sidebar-link">AlmaLinux OS Kitten 10</a></li><li><a href="/documentation/package-building-guide.html" class="sidebar-link">Package Building Guide</a></li><li><a href="/development/building-almalinux-iso-locally.html" class="sidebar-link">Building AlmaLinux ISO locally</a></li><li><a href="/development/Modified-packages.html" class="sidebar-link">Modified packages</a></li><li><a href="/development/Packaging.html" class="sidebar-link">Packaging</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Private Keys</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/development/private-keys/secure-boot.html" class="sidebar-link">Secure Boot Key Generation and Handling</a></li><li><a href="/development/private-keys/package-signing.html" aria-current="page" class="active sidebar-link">Package Signing Key Generation and Handling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development/private-keys/package-signing.html#owernship" class="sidebar-link">Owernship</a></li><li class="sidebar-sub-header"><a href="/development/private-keys/package-signing.html#key-generation" class="sidebar-link">Key Generation</a></li><li class="sidebar-sub-header"><a href="/development/private-keys/package-signing.html#removal-of-custodianship" class="sidebar-link">Removal of Custodianship</a></li><li class="sidebar-sub-header"><a href="/development/private-keys/package-signing.html#distribution-of-keys-to-key-holders" class="sidebar-link">Distribution of Keys to Key Holders</a></li><li class="sidebar-sub-header"><a href="/development/private-keys/package-signing.html#storage-of-keys-by-key-holders" class="sidebar-link">Storage of Keys by Key Holders</a></li><li class="sidebar-sub-header"><a href="/development/private-keys/package-signing.html#key-generation-log" class="sidebar-link">Key Generation Log</a></li><li class="sidebar-sub-header"><a href="/development/private-keys/package-signing.html#changelog" class="sidebar-link">Changelog</a></li></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Documentation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Installation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/migration" class="sidebar-heading clickable"><span>Migration</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>The Foundation</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/Help-and-Support.html" class="sidebar-link">Help and Support</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="package-signing-key-generation-and-handling"><a href="#package-signing-key-generation-and-handling" class="header-anchor">#</a> Package Signing Key Generation and Handling</h1> <p>Last updated 2024-07-10.</p> <h2 id="owernship"><a href="#owernship" class="header-anchor">#</a> Owernship</h2> <p>Certificate and key generation and handling is overseen by ALESCo.</p> <h2 id="key-generation"><a href="#key-generation" class="header-anchor">#</a> Key Generation</h2> <p>This is a slow and tedious process.  It is important that no corners are cut and the utmost care is taken validating security through every step of the process.</p> <h3 id="prepare-a-secure-environment"><a href="#prepare-a-secure-environment" class="header-anchor">#</a> Prepare a Secure Environment</h3> <p>Download latest AlmaLinux live ISO from <code>https://repo.almalinux.org/</code>.  Using default Gnome mini for this guide as to not have any 3rd-party binaries present (EPEL).</p> <p>In the folder where you download the ISO, look at the <code>CHECKSUM</code> and <code>CHECKSUM.asc</code> files.  First let's verify that it is properly signed and that its contents can be authenticated.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> https://repo.almalinux.org/almalinux/9/live/x86_64/CHECKSUM
<span class="token function">wget</span> https://repo.almalinux.org/almalinux/9/live/x86_64/CHECKSUM.asc
<span class="token function">wget</span> https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-9
gpg <span class="token parameter variable">--import</span> RPM-GPG-KEY-AlmaLinux-9
gpg <span class="token parameter variable">--verify</span> CHECKSUM.asc CHECKSUM
</code></pre></div><p>Now verify the downloaded ISO's sha256 checksum against that contained in the <code>CHECKSUM</code> file.</p> <p>Copy the ISO file to a flash drive.</p> <p><code>dd if=almalinux.iso of=/dev/sdX</code></p> <p>Boot the image.  Connect to the internet temporarily to run a single command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> dnf <span class="token function">install</span> pcsc-lite
</code></pre></div><h4 id="download-gpg-public-keys-of-recipients"><a href="#download-gpg-public-keys-of-recipients" class="header-anchor">#</a> Download GPG Public Keys of Recipients</h4> <p>If you are doing key exports as part of this, grab the public keys of all recipients.</p> <p>These keys are accurate at the time of this writing.  Verify them prior to use, of course.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">|</span> gpg <span class="token parameter variable">--import</span>
</code></pre></div><p>It may also be helpful to open a copy of this guide in the browser before disconnecting from the internet.</p> <p><strong>Disconnect from the internet and do not connect again.  Everything from here on out has to be done fully air-gapped and the generated private keys can never be connected to a machine with network access.</strong></p> <h3 id="generate-keys-and-certificates"><a href="#generate-keys-and-certificates" class="header-anchor">#</a> Generate Keys and Certificates</h3> <ol><li><p>Prepare GPG Environment:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> ~/.gnupg/
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'EOF'<span class="token bash punctuation"> <span class="token operator">&gt;</span> ~/.gnupg/gpg.conf</span>
personal-cipher-preferences AES256 AES192 AES
personal-digest-preferences SHA512 SHA384 SHA256
personal-compress-preferences ZLIB BZIP2 ZIP Uncompressed
default-preference-list SHA512 SHA384 SHA256 AES256 AES192 AES ZLIB BZIP2 ZIP Uncompressed
cert-digest-algo SHA512
s2k-digest-algo SHA512
s2k-cipher-algo AES256
charset utf-8
no-comments
no-emit-version
no-greeting
keyid-format 0xlong
list-options show-uid-validity
verify-options show-uid-validity
with-fingerprint
require-cross-certification
no-symkey-cache
armor
use-agent
throw-keyids
EOF</span>
</code></pre></div></li> <li><p>Generate the key:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">IDENTITY</span><span class="token operator">=</span><span class="token string">&quot;AlmaLinux OS 10 &lt;packager@almalinux.org&gt;&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">KEY_TYPE</span><span class="token operator">=</span>rsa4096
<span class="token assign-left variable">CERTIFY_PASS</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>C <span class="token function">tr</span> <span class="token parameter variable">-dc</span> <span class="token string">'A-Z1-9'</span> <span class="token operator">&lt;</span> /dev/urandom <span class="token operator">|</span> <span class="token punctuation">\</span>
<span class="token function">tr</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;1IOS5U&quot;</span> <span class="token operator">|</span> <span class="token function">fold</span> <span class="token parameter variable">-w</span> <span class="token number">30</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">&quot;-es/./ /&quot;</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">26</span><span class="token punctuation">..</span><span class="token number">5</span><span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
<span class="token function">cut</span> -c2- <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">&quot; &quot;</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span><span class="token variable">)</span></span> <span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$CERTIFY_PASS</span>&quot;</span>
gpg <span class="token parameter variable">--batch</span> <span class="token parameter variable">--passphrase</span> <span class="token string">&quot;<span class="token variable">$CERTIFY_PASS</span>&quot;</span> --quick-generate-key <span class="token string">&quot;<span class="token variable">$IDENTITY</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$KEY_TYPE</span>&quot;</span> sign never
<span class="token assign-left variable">KEYID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>gpg <span class="token parameter variable">-k</span> --with-colons <span class="token string">&quot;<span class="token variable">$IDENTITY</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'/^pub:/ { print $5; exit }'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">KEYFP</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>gpg <span class="token parameter variable">-k</span> --with-colons <span class="token string">&quot;<span class="token variable">$IDENTITY</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'/^fpr:/ { print $10; exit }'</span><span class="token variable">)</span></span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>Key ID: %40s<span class="token entity" title="\n">\n</span>Key FP: %40s<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$KEYID</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$KEYFP</span>&quot;</span>
</code></pre></div><p><strong>Make sure to securely store the passphrase in Vaultwarden.</strong></p></li> <li><p>Export Public and Private Keys</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gpg <span class="token parameter variable">--armor</span> <span class="token parameter variable">--export</span> <span class="token variable">$KEYID</span> <span class="token operator">&gt;</span> almalinux10.asc
gpg <span class="token parameter variable">--batch</span> <span class="token parameter variable">--armor</span> <span class="token parameter variable">--passphrase</span> <span class="token string">&quot;<span class="token variable">$CERTIFY_PASS</span>&quot;</span> --pinentry-mode<span class="token operator">=</span>loopback --export-secret-keys <span class="token variable">$KEYID</span> <span class="token operator">&gt;</span> almalinux10-privkey.asc
</code></pre></div></li> <li><p>Configure (new) Yubikey</p> <p>Generate Pins</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># generate pins</span>
<span class="token assign-left variable">ADMIN_PIN</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>C <span class="token function">tr</span> <span class="token parameter variable">-dc</span> <span class="token string">'0-9'</span> <span class="token operator">&lt;</span> /dev/urandom <span class="token operator">|</span> <span class="token function">fold</span> <span class="token parameter variable">-w8</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span><span class="token variable">)</span></span>
<span class="token assign-left variable">USER_PIN</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>C <span class="token function">tr</span> <span class="token parameter variable">-dc</span> <span class="token string">'0-9'</span> <span class="token operator">&lt;</span> /dev/urandom <span class="token operator">|</span> <span class="token function">fold</span> <span class="token parameter variable">-w6</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span><span class="token variable">)</span></span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>Admin PIN: %12s<span class="token entity" title="\n">\n</span>User PIN: %13s<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$ADMIN_PIN</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$USER_PIN</span>&quot;</span>
</code></pre></div><p><strong>Make sure to securely store the admin and user pins in Vaultwarden.</strong></p> <p>Set pins</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># set admin pin</span>
gpg --command-fd<span class="token operator">=</span><span class="token number">0</span> --pinentry-mode<span class="token operator">=</span>loopback --change-pin <span class="token operator">&lt;&lt;</span><span class="token string">EOF
3
12345678
<span class="token variable">$ADMIN_PIN</span>
<span class="token variable">$ADMIN_PIN</span>
q
EOF</span>
<span class="token comment"># set user pin</span>
gpg --command-fd<span class="token operator">=</span><span class="token number">0</span> --pinentry-mode<span class="token operator">=</span>loopback --change-pin <span class="token operator">&lt;&lt;</span><span class="token string">EOF
1
123456
<span class="token variable">$USER_PIN</span>
<span class="token variable">$USER_PIN</span>
q
EOF</span>
</code></pre></div><p>Set basic info on the Yubikey</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gpg --command-fd<span class="token operator">=</span><span class="token number">0</span> --pinentry-mode<span class="token operator">=</span>loopback --edit-card <span class="token operator">&lt;&lt;</span><span class="token string">EOF
admin
login
<span class="token variable">$IDENTITY</span>
<span class="token variable">$ADMIN_PIN</span>
forcesig
url
https://repo.almalinux.org/almalinux/RPM-GPG-KEY-AlmaLinux-10
quit
EOF</span>
</code></pre></div></li> <li><p>Copy private key to Yubikey.  This is a destructive proces so we need to make a backup of the private keys before we proceed and use that to write to the Yubikey.  If we're only writing to a single Yubikey the backup is not necessary as we have already exported the key into armored format which will not be impacted.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token parameter variable">-r</span> ~/.gnupg ~/.gnupg.keytocard
<span class="token assign-left variable">GNUPGHOME</span><span class="token operator">=~</span>/.gnupg.keytocard gpg --command-fd<span class="token operator">=</span><span class="token number">0</span> --pinentry-mode<span class="token operator">=</span>loopback --edit-key <span class="token variable">$KEYID</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF
keytocard
y
1
<span class="token variable">$CERTIFY_PASS</span>
<span class="token variable">$ADMIN_PIN</span>
save
EOF</span>
</code></pre></div></li></ol> <h3 id="copy-keys-and-certificates"><a href="#copy-keys-and-certificates" class="header-anchor">#</a> Copy Keys and Certificates</h3> <p>DO NOT DO NOT DO NOT connect to the internet to copy the files.</p> <h4 id="public-certificates"><a href="#public-certificates" class="header-anchor">#</a> Public Certificates</h4> <p>Copy the public key (<code>almalinux10.asc</code> if copy/pasting commands from this guide) to a flash drive.  This drive can then be connected to a machine with networking and distributed as necessary - there is nothing secret about them.</p> <h4 id="private-keys"><a href="#private-keys" class="header-anchor">#</a> Private Keys</h4> <p>Encrypt the private keys using GPG.  The GPG-encrypted files are the only ones that can be distributed to key holders via offline methods.  It's recommended that they keys remain encrypted at rest.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gpg <span class="token parameter variable">-r</span> <span class="token operator">&lt;</span>recipient-gpg-email<span class="token operator">&gt;</span> <span class="token parameter variable">-r</span> <span class="token operator">&lt;</span>recipient-gpg-email<span class="token operator">&gt;</span> <span class="token parameter variable">-e</span> almalinux10-privkey.asc
</code></pre></div><p>Copy the .asc (public/private) keys and GPG-encrypted version of the private key to a blank flash drive.  The drive must never be connected to a networked or untrusted system.  It should only ever be connected to an air-gapped blank OS install.</p> <h2 id="removal-of-custodianship"><a href="#removal-of-custodianship" class="header-anchor">#</a> Removal of Custodianship</h2> <p>We need to define how we handle if a keyholder leaves AlmaLinux.</p> <h2 id="distribution-of-keys-to-key-holders"><a href="#distribution-of-keys-to-key-holders" class="header-anchor">#</a> Distribution of Keys to Key Holders</h2> <p>Keys will be distributed to key holders only via physical medium - never via the internet.  Our SOP is for the key generator to encrypt the keys with GPG and place them on a hardware-encrypted (FIPS-140 certified), self-destructing (if brute force or disassembly are attempted) USB key.  These may then be mailed to the key holder or delivered in person at, for example, a conference.</p> <p>The unlock code for the flash drive will be provided by the key generator to the key holder upon their recipient of the flash drive, and confirmation of that receipt via a GPG-signed email.</p> <p>The hardware unlock code may be provided via the internet using encrypted means - either AlmaLinux's internal password manager (Vaultwarden) or GPG-encrypted email.</p> <h2 id="storage-of-keys-by-key-holders"><a href="#storage-of-keys-by-key-holders" class="header-anchor">#</a> Storage of Keys by Key Holders</h2> <p>Keys should be stored offline and encrypted at rest via GPG and the hardware encryption of the flash drive.  It should be stored in a fire resistant lock box/safe or bank safety deposit box.</p> <h2 id="key-generation-log"><a href="#key-generation-log" class="header-anchor">#</a> Key Generation Log</h2> <h3 id="almalinux-10"><a href="#almalinux-10" class="header-anchor">#</a> AlmaLinux 10</h3> <p>Package signing keys generated on 2024-07-10 using policy dated 2024-07-03.  These keys and certs will be used for package signing in AlmaLinux 10, including testing/beta builds.</p> <h2 id="changelog"><a href="#changelog" class="header-anchor">#</a> Changelog</h2> <h3 id="_2024-07-03"><a href="#_2024-07-03" class="header-anchor">#</a> 2024-07-03</h3> <p>Initial ratification</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/development/private-keys/secure-boot.html" class="prev">
        Secure Boot Key Generation and Handling
      </a></span> <span class="next"><a href="/Comparison.html">
        Enterprise Linux Comparison
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3659c400.js" defer></script><script src="/assets/js/2.22ca8fae.js" defer></script><script src="/assets/js/1.54647143.js" defer></script><script src="/assets/js/65.4a63794e.js" defer></script>
  </body>
</html>
